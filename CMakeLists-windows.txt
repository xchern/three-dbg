cmake_minimum_required( VERSION 2.6 )

set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_SOURCE_DIR}/cmake-modules/")

find_package( OpenGL REQUIRED )
find_package( PythonLibs REQUIRED)

include_directories( external/glfw )
link_directories( "${CMAKE_SOURCE_DIR}/external/glfw" )

include_directories(
    ${PYTHON_INCLUDE_DIRS}
    gl3w
    external/glm
    external/pybind11/include
    )

add_library(py-threedbg SHARED
    python-binding.cc
    src/threedbg.cc
    src/threedbg.h
    src/display.cc
    src/display.h
    src/camera.cc
    src/camera.h
    src/Point.cc
    src/Point.h
    src/Line.cc
    src/Line.h
    src/common.h
    gl3w/GL/gl3w.c
    )
target_link_libraries(py-threedbg
    ${PYTHON_LIBRARIES}
    ${OPENGL_LIBRARIES}
    glfw
    )
set_target_properties( py-threedbg PROPERTIES
    PREFIX ""
    SURFIX ""
    OUTPUT_NAME "threedbg"
    )